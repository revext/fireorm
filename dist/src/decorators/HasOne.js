"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.HasOne = void 0;
// TODO instead of class pass the getModelName for the options modelClass
function HasOne(options) {
    return (target, propertyKey) => {
        if (!target.hasOwnProperty('relations')) {
            let relations = {};
            relations[propertyKey] = Object.assign(options, { type: 'hasOne' });
            Object.defineProperty(target, 'relations', { value: relations });
        }
        else
            target.relations[propertyKey] = Object.assign(options, { type: 'hasOne' });
    };
}
exports.HasOne = HasOne;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSGFzT25lLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2RlY29yYXRvcnMvSGFzT25lLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQU1BLHlFQUF5RTtBQUN6RSxTQUFnQixNQUFNLENBQWtCLE9BQTZCO0lBQ25FLE9BQVEsQ0FBQyxNQUFjLEVBQUUsV0FBNEIsRUFBUSxFQUFFO1FBQzdELElBQUcsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxFQUFDO1lBQ3JDLElBQUksU0FBUyxHQUFRLEVBQUUsQ0FBQTtZQUN2QixTQUFTLENBQUMsV0FBVyxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQTtZQUNuRSxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxXQUFXLEVBQUUsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQTtTQUNqRTs7WUFDRSxNQUE2QixDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxFQUFFLElBQUksRUFBRSxRQUFxQixFQUFFLENBQUMsQ0FBQTtJQUNuSCxDQUFDLENBQUM7QUFDSixDQUFDO0FBVEQsd0JBU0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTW9kZWwgZnJvbSBcIn4vbW9kZWxzL01vZGVsXCI7XHJcbmltcG9ydCB7IFByb3BlcnR5RGVjb3JhdG9yRnVuY3Rpb24gfSBmcm9tIFwifi90eXBlcy9mdW5jdGlvbnMvUHJvcGVydHlEZWNvcmF0b3JGdW5jdGlvblwiO1xyXG5pbXBvcnQgeyBIYXNPbmVSZWxhdGlvbkNvbmZpZyB9IGZyb20gXCJ+L3R5cGVzL2NvbmZpZ3MvUmVsYXRpb25Db25maWdcIjtcclxuaW1wb3J0IHsgQ2xhc3NXaXRoUmVsYXRpb25zLCBSZWxhdGlvbnMgfSBmcm9tIFwifi90eXBlcy9pbnRlcm5hbC9DbGFzc1dpdGhSZWxhdGlvbnNcIjtcclxuXHJcblxyXG4vLyBUT0RPIGluc3RlYWQgb2YgY2xhc3MgcGFzcyB0aGUgZ2V0TW9kZWxOYW1lIGZvciB0aGUgb3B0aW9ucyBtb2RlbENsYXNzXHJcbmV4cG9ydCBmdW5jdGlvbiBIYXNPbmU8SyBleHRlbmRzIE1vZGVsPihvcHRpb25zOiBIYXNPbmVSZWxhdGlvbkNvbmZpZyk6IFByb3BlcnR5RGVjb3JhdG9yRnVuY3Rpb24ge1xyXG4gIHJldHVybiAgKHRhcmdldDogT2JqZWN0LCBwcm9wZXJ0eUtleTogc3RyaW5nIHwgc3ltYm9sKTogdm9pZCA9PiB7XHJcbiAgICBpZighdGFyZ2V0Lmhhc093blByb3BlcnR5KCdyZWxhdGlvbnMnKSl7XHJcbiAgICAgIGxldCByZWxhdGlvbnM6IGFueSA9IHt9XHJcbiAgICAgIHJlbGF0aW9uc1twcm9wZXJ0eUtleV0gPSBPYmplY3QuYXNzaWduKG9wdGlvbnMsIHsgdHlwZTogJ2hhc09uZScgfSlcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgJ3JlbGF0aW9ucycsIHsgdmFsdWU6IHJlbGF0aW9ucyB9KVxyXG4gICAgfSBlbHNlIFxyXG4gICAgICAodGFyZ2V0IGFzIENsYXNzV2l0aFJlbGF0aW9ucykucmVsYXRpb25zW3Byb3BlcnR5S2V5XSA9IE9iamVjdC5hc3NpZ24ob3B0aW9ucywgeyB0eXBlOiAnaGFzT25lJyBhcyBSZWxhdGlvbnMgfSlcclxuICB9O1xyXG59Il19